# 第一章 docker的安装

安装可以参照[官方文档](https://docs.docker.com/install/linux/docker-ce/centos/),安装时本机版本为Centos8，但docker官网当中并没有给出Centos8的安装包，所以只能进行如下步骤安装，如docker官网出现了Centos8的安装包，可以参照官网进行安装。

## 1.1 安装必要的软件包

```shell
sudo yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2
```

## 1.2 添加docker仓库

```shell
sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
```

## 1.3 使用最优模式安装docker

```shell
yum install --nobest docker-ce docker-ce-cli
```

## 1.4 使用链接下载containerd.io

```shell
dnf install https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm
```

这里的链接可以在网址上寻找

## 1.5 将docker升级到最新版

```shell
dnf update docker-ce docker-ce-cli
```

## 1.6 启动docker服务

```shell
sudo systemctl start docker
```

## 1.7 测试是否安装成功

```shell
docker version
docker info
```

## 1.8 创建docker组并将当前用户添加到docker中

```shell
sudo groupadd docker
sudo usermod -aG docker $USER
newgrp docker
```



# 第二章 docker的常用命令

## 2.1 拉取image文件到本地

docker把应用程序及其依赖，都打包在image文件里面。只有通过这个文件，才能生成Docker容器。image文件可以看作是容器的模板。docker根据image文件生成容器的实例。同一个image文件，可以生成多个同时运行的容器示例。

image是二进制文件，实际开发中，一个image文件往往通过继承另一个image文件，加上一些个性化设置而生成。

```shell
# 列出本机所有image文件
docker image ls 
# 删除image文件
docker image rm [imageName]
```

image 文件是通用的，一台机器的image文件拷贝到另一台机器，照样可以使用，一般来说，为了节省时间，我们应该尽量使用别人制作好的image文件，而不是自己制作。即使定制，也应该基于别人的image文件进行加工，而不是从零开始制作。

为了方便共享，image文件制作完成后，可以上传到网上的仓库。Docker的官方仓库Docker hub是最重要、最常用的image仓库。

```shell
# 拉曲hello-world镜像
docker image pull hello-world
```

